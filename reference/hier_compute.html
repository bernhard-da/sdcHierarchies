<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compute a nested hierarchy — hier_compute • sdcHierarchies</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compute a nested hierarchy — hier_compute"><meta property="og:description" content="This function allows to compute a nested hierarchy from an character
vector or a (named) list."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sdcHierarchies</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.19.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/usage.html">Usage of the sdcHierarchies-Package</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/bernhard-da/sdcHierarchies/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute a nested hierarchy</h1>
    <small class="dont-index">Source: <a href="https://github.com/bernhard-da/sdcHierarchies/blob/HEAD/R/hier_compute.R" class="external-link"><code>R/hier_compute.R</code></a></small>
    <div class="hidden name"><code>hier_compute.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function allows to compute a nested hierarchy from an character
vector or a (named) list.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">hier_compute</span><span class="op">(</span><span class="va">inp</span>, dim_spec <span class="op">=</span> <span class="cn">NULL</span>, root <span class="op">=</span> <span class="cn">NULL</span>, method <span class="op">=</span> <span class="st">"len"</span>, as <span class="op">=</span> <span class="st">"network"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>inp</dt>
<dd><p>a character vector (for methods <code>"len"</code> and <code>"endpos"</code>
containing codes of a hierarchical variables or a list for
method <code>list</code>. In the latter case, the input is expected to be a
named list where each list-element contains the codes belonging to the
node that has the name of this specific list element. In the examples
below, the required input formats are further explained.</p></dd>


<dt>dim_spec</dt>
<dd><p>an (integerish) vector containing either the length
(in terms of characters) for each level or the end-positions of
these levels. In the latter-case, one needs to set argument
<code>method</code> to <code>"endpos"</code>. This argument is ignored in case the
hierarchy should be created from a named list.</p></dd>


<dt>root</dt>
<dd><p><code>NULL</code> or a scalar characer specifying the name
of the overall total in case it is not encoded at the first
positions of <code>dim</code>.</p></dd>


<dt>method</dt>
<dd><p>either <code>"len"</code> (the default) or <code>"endpos"</code></p><ul><li><p><code>"len"</code>: the number of characters for each of the levels
needs to be specified</p></li>
<li><p><code>"endpos"</code>: the end-positions for each levels need to be fixed</p></li>
<li><p><code>"list"</code>: the end-positions for each levels need to be fixed</p></li>
</ul></dd>


<dt>as</dt>
<dd><p>(character) specifies the type of the return object. Possible
choices are:</p><ul><li><p><code>"network"</code>: the default; a <code>data.table</code> as network. The
table consists of two columns where the <code>"root"</code> column defines the
name of parent node to the label in the <code>"leaf"</code> column.</p></li>
<li><p><code>"df"</code>: a <code>data.frame</code> in <code>"@; label"</code>-format.</p></li>
<li><p><code>"dt"</code>: a <code>data.table</code> in <code>"@; label"</code>-format.</p></li>
<li><p><code>"code"</code>: returns the R-code that is required to build
the tree</p></li>
<li><p><code>"sdc"</code>: the tree is structured as a list</p></li>
<li><p><code>"argus"</code>: suitable input for <code><a href="hier_export.html">hier_export()</a></code> to
write <code>"hrc"</code>-files for tau argus.</p></li>
<li><p><code>"json"</code>: a character-vector encoded as json-string.</p></li>
</ul></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>a hierarchical data structure depending on choice of
argument <code>as</code></p>


    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Example Regional Codes (NUTS)</span></span></span>
<span class="r-in"><span><span class="co"># digits 1-2 (len=2, endpos=2) --&gt; level 1</span></span></span>
<span class="r-in"><span><span class="co"># digit 3 (len=1, endpos=3) --&gt; level 2</span></span></span>
<span class="r-in"><span><span class="co"># digits 4-5 (len=2, endpos=5) -&gt; level 3</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># all strings have equal length but total is not encoded in these values</span></span></span>
<span class="r-in"><span><span class="va">geo_m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"01051"</span>, <span class="st">"01053"</span>, <span class="st">"01054"</span>, <span class="st">"01055"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"01056"</span>, <span class="st">"01057"</span>, <span class="st">"01058"</span>, <span class="st">"01059"</span>, <span class="st">"01060"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"01061"</span>, <span class="st">"01062"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"02000"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"03151"</span>, <span class="st">"03152"</span>, <span class="st">"03153"</span>, <span class="st">"03154"</span>, <span class="st">"03155"</span>, <span class="st">"03156"</span>, <span class="st">"03157"</span>, <span class="st">"03158"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"03251"</span>, <span class="st">"03252"</span>, <span class="st">"03254"</span>, <span class="st">"03255"</span>, <span class="st">"03256"</span>, <span class="st">"03257"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"03351"</span>, <span class="st">"03352"</span>, <span class="st">"03353"</span>, <span class="st">"03354"</span>, <span class="st">"03355"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"03356"</span>, <span class="st">"03357"</span>, <span class="st">"03358"</span>, <span class="st">"03359"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"03360"</span>, <span class="st">"03361"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"03451"</span>, <span class="st">"03452"</span>, <span class="st">"03453"</span>, <span class="st">"03454"</span>, <span class="st">"03455"</span>, <span class="st">"03456"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"10155"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu">hier_compute</span><span class="op">(</span></span></span>
<span class="r-in"><span>  inp <span class="op">=</span> <span class="va">geo_m</span>,</span></span>
<span class="r-in"><span>  dim_spec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  root <span class="op">=</span> <span class="st">"Tot"</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"endpos"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu">hier_compute</span><span class="op">(</span></span></span>
<span class="r-in"><span>  inp <span class="op">=</span> <span class="va">geo_m</span>,</span></span>
<span class="r-in"><span>  dim_spec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  root <span class="op">=</span> <span class="st">"Tot"</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"len"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="hier_convert.html">hier_convert</a></span><span class="op">(</span><span class="va">a</span>, as <span class="op">=</span> <span class="st">"df"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="hier_convert.html">hier_convert</a></span><span class="op">(</span><span class="va">b</span>, as <span class="op">=</span> <span class="st">"df"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># total is contained in the first 3 positions of the input values</span></span></span>
<span class="r-in"><span><span class="co"># --&gt; we need to set name of the overall total (argument "root")</span></span></span>
<span class="r-in"><span><span class="co"># to NULL (the default)</span></span></span>
<span class="r-in"><span><span class="va">geo_m_with_tot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Tot"</span>, <span class="va">geo_m</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu">hier_compute</span><span class="op">(</span></span></span>
<span class="r-in"><span>  inp <span class="op">=</span> <span class="va">geo_m_with_tot</span>,</span></span>
<span class="r-in"><span>  dim_spec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"len"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu">hier_compute</span><span class="op">(</span></span></span>
<span class="r-in"><span>  inp <span class="op">=</span> <span class="va">geo_m_with_tot</span>,</span></span>
<span class="r-in"><span>  dim_spec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"endpos"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example where inputs have unequal length</span></span></span>
<span class="r-in"><span><span class="co"># the overall total is not included in input vector</span></span></span>
<span class="r-in"><span><span class="va">yae_h</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"1.1.1."</span>, <span class="st">"1.1.2."</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1.2.1."</span>, <span class="st">"1.2.2."</span>, <span class="st">"1.2.3."</span>, <span class="st">"1.2.4."</span>, <span class="st">"1.2.5."</span>, <span class="st">"1.3.1."</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1.3.2."</span>, <span class="st">"1.3.3."</span>, <span class="st">"1.3.4."</span>, <span class="st">"1.3.5."</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1.4.1."</span>, <span class="st">"1.4.2."</span>, <span class="st">"1.4.3."</span>, <span class="st">"1.4.4."</span>, <span class="st">"1.4.5."</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1.5."</span>, <span class="st">"1.6."</span>, <span class="st">"1.7."</span>, <span class="st">"1.8."</span>, <span class="st">"1.9."</span>, <span class="st">"2."</span>, <span class="st">"3."</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu">hier_compute</span><span class="op">(</span></span></span>
<span class="r-in"><span>  inp <span class="op">=</span> <span class="va">yae_h</span>,</span></span>
<span class="r-in"><span>  dim_spec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  root <span class="op">=</span> <span class="st">"Tot"</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"endpos"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu">hier_compute</span><span class="op">(</span></span></span>
<span class="r-in"><span>  inp <span class="op">=</span> <span class="va">yae_h</span>,</span></span>
<span class="r-in"><span>  dim_spec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  root <span class="op">=</span> <span class="st">"Tot"</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"len"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="hier_convert.html">hier_convert</a></span><span class="op">(</span><span class="va">a</span>, as <span class="op">=</span> <span class="st">"df"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="hier_convert.html">hier_convert</a></span><span class="op">(</span><span class="va">b</span>, as <span class="op">=</span> <span class="st">"df"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Same example, but overall total is contained in the first 3 positions</span></span></span>
<span class="r-in"><span><span class="co"># of the input values --&gt; argument "root" needs to be</span></span></span>
<span class="r-in"><span><span class="co"># set to NULL (the default)</span></span></span>
<span class="r-in"><span><span class="va">yae_h_with_tot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Tot"</span>, <span class="va">yae_h</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu">hier_compute</span><span class="op">(</span></span></span>
<span class="r-in"><span>  inp <span class="op">=</span> <span class="va">yae_h_with_tot</span>,</span></span>
<span class="r-in"><span>  dim_spec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"len"</span>,</span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu">hier_compute</span><span class="op">(</span></span></span>
<span class="r-in"><span>  inp <span class="op">=</span> <span class="va">yae_h_with_tot</span>,</span></span>
<span class="r-in"><span>  dim_spec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"endpos"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># An example using a list as input (same as above)</span></span></span>
<span class="r-in"><span><span class="co"># Hierarchy: digits 1-2 (nuts1), digit 3 (nut2), digits 4-5 (nuts3)</span></span></span>
<span class="r-in"><span><span class="co"># The order of the list-elements is not important but the</span></span></span>
<span class="r-in"><span><span class="co"># names of input-list correspond to (subtotal/level) names</span></span></span>
<span class="r-in"><span><span class="va">geo_ll</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">geo_ll</span><span class="op">[[</span><span class="st">"Total"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01"</span>, <span class="st">"02"</span>, <span class="st">"03"</span>, <span class="st">"10"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">geo_ll</span><span class="op">[[</span><span class="st">"010"</span><span class="op">]</span><span class="op">]</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"01051"</span>, <span class="st">"01053"</span>, <span class="st">"01054"</span>, <span class="st">"01055"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"01056"</span>, <span class="st">"01057"</span>, <span class="st">"01058"</span>, <span class="st">"01059"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"01060"</span>, <span class="st">"01061"</span>, <span class="st">"01062"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">geo_ll</span><span class="op">[[</span><span class="st">"031"</span><span class="op">]</span><span class="op">]</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"03151"</span>, <span class="st">"03152"</span>, <span class="st">"03153"</span>, <span class="st">"03154"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"03155"</span>, <span class="st">"03156"</span>, <span class="st">"03157"</span>, <span class="st">"03158"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">geo_ll</span><span class="op">[[</span><span class="st">"032"</span><span class="op">]</span><span class="op">]</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"03251"</span>, <span class="st">"03252"</span>, <span class="st">"03254"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"03255"</span>, <span class="st">"03256"</span>, <span class="st">"03257"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">geo_ll</span><span class="op">[[</span><span class="st">"033"</span><span class="op">]</span><span class="op">]</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"03351"</span>, <span class="st">"03352"</span>, <span class="st">"03353"</span>, <span class="st">"03354"</span>, <span class="st">"03355"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"03356"</span>, <span class="st">"03357"</span>, <span class="st">"03358"</span>, <span class="st">"03359"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"03360"</span>, <span class="st">"03361"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">geo_ll</span><span class="op">[[</span><span class="st">"034"</span><span class="op">]</span><span class="op">]</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"03451"</span>, <span class="st">"03452"</span>, <span class="st">"03453"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"03454"</span>, <span class="st">"03455"</span>,<span class="st">"03456"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">geo_ll</span><span class="op">[[</span><span class="st">"01"</span><span class="op">]</span><span class="op">]</span>    <span class="op">&lt;-</span> <span class="st">"010"</span></span></span>
<span class="r-in"><span><span class="va">geo_ll</span><span class="op">[[</span><span class="st">"02"</span><span class="op">]</span><span class="op">]</span>    <span class="op">&lt;-</span> <span class="st">"020"</span></span></span>
<span class="r-in"><span><span class="va">geo_ll</span><span class="op">[[</span><span class="st">"020"</span><span class="op">]</span><span class="op">]</span>   <span class="op">&lt;-</span> <span class="st">"02000"</span></span></span>
<span class="r-in"><span><span class="va">geo_ll</span><span class="op">[[</span><span class="st">"03"</span><span class="op">]</span><span class="op">]</span>    <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"031"</span>, <span class="st">"032"</span>, <span class="st">"033"</span>, <span class="st">"034"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">geo_ll</span><span class="op">[[</span><span class="st">"10"</span><span class="op">]</span><span class="op">]</span>    <span class="op">&lt;-</span> <span class="st">"101"</span></span></span>
<span class="r-in"><span><span class="va">geo_ll</span><span class="op">[[</span><span class="st">"101"</span><span class="op">]</span><span class="op">]</span>   <span class="op">&lt;-</span> <span class="st">"10155"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu">hier_compute</span><span class="op">(</span></span></span>
<span class="r-in"><span>  inp <span class="op">=</span> <span class="va">geo_ll</span>,</span></span>
<span class="r-in"><span>  root <span class="op">=</span> <span class="st">"Total"</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"list"</span></span></span>
<span class="r-in"><span><span class="op">)</span>; <span class="va">d</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Argument 'dim_spec' is ignored when constructing a hierarchy from a nested list.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      root  leaf level</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1: Total Total     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2: Total    01     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3: Total    02     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4: Total    03     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5: Total    10     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:    01   010     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:   010 01051     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:   010 01053     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:   010 01054     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:   010 01055     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:   010 01056     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:   010 01057     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:   010 01058     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:   010 01059     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:   010 01060     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:   010 01061     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:   010 01062     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:    02   020     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:   020 02000     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:    03   031     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:    03   032     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:    03   033     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:    03   034     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:   031 03151     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:   031 03152     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:   031 03153     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:   031 03154     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28:   031 03155     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29:   031 03156     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30:   031 03157     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31:   031 03158     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32:   032 03251     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33:   032 03252     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34:   032 03254     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35:   032 03255     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36:   032 03256     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37:   032 03257     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38:   033 03351     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39:   033 03352     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40:   033 03353     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41:   033 03354     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42:   033 03355     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43:   033 03356     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44:   033 03357     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45:   033 03358     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46:   033 03359     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47:   033 03360     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48:   033 03361     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49:   034 03451     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50:   034 03452     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51:   034 03453     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52:   034 03454     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53:   034 03455     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 54:   034 03456     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55:    10   101     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 56:   101 10155     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      root  leaf level</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Reproduce example from above with input defined as named list</span></span></span>
<span class="r-in"><span><span class="va">yae_ll</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">yae_ll</span><span class="op">[[</span><span class="st">"Total"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1."</span>, <span class="st">"2."</span>, <span class="st">"3."</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">yae_ll</span><span class="op">[[</span><span class="st">"1."</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"1."</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">9</span>, <span class="st">"."</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">yae_ll</span><span class="op">[[</span><span class="st">"1.1."</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"1.1."</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="st">"."</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">yae_ll</span><span class="op">[[</span><span class="st">"1.2."</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"1.2."</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="st">"."</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">yae_ll</span><span class="op">[[</span><span class="st">"1.3."</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"1.3."</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="st">"."</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">yae_ll</span><span class="op">[[</span><span class="st">"1.4."</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"1.4."</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, <span class="st">"."</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># return result as data.frame</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu">hier_compute</span><span class="op">(</span></span></span>
<span class="r-in"><span>  inp <span class="op">=</span> <span class="va">yae_ll</span>,</span></span>
<span class="r-in"><span>  root <span class="op">=</span> <span class="st">"Total"</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"list"</span>,</span></span>
<span class="r-in"><span>  as <span class="op">=</span> <span class="st">"df"</span></span></span>
<span class="r-in"><span><span class="op">)</span>; <span class="va">d</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Argument 'dim_spec' is ignored when constructing a hierarchy from a nested list.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     level   name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:     @  Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:    @@     1.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:   @@@   1.1.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:  @@@@ 1.1.1.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:  @@@@ 1.1.2.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:   @@@   1.2.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:  @@@@ 1.2.1.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:  @@@@ 1.2.2.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:  @@@@ 1.2.3.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:  @@@@ 1.2.4.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:  @@@@ 1.2.5.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:   @@@   1.3.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:  @@@@ 1.3.1.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:  @@@@ 1.3.2.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:  @@@@ 1.3.3.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:  @@@@ 1.3.4.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:  @@@@ 1.3.5.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:   @@@   1.4.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:  @@@@ 1.4.1.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:  @@@@ 1.4.2.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:  @@@@ 1.4.3.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:  @@@@ 1.4.4.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:  @@@@ 1.4.5.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:  @@@@ 1.4.6.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:   @@@   1.5.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:   @@@   1.6.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:   @@@   1.7.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28:   @@@   1.8.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29:   @@@   1.9.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30:    @@     2.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31:    @@     3.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     level   name</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Bernhard Meindl.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

